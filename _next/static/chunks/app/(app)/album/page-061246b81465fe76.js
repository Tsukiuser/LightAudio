(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[199],{13300:(e,s,t)=>{"use strict";t.d(s,{A:()=>n});let n=(0,t(40157).A)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},35695:(e,s,t)=>{"use strict";var n=t(18999);t.o(n,"notFound")&&t.d(s,{notFound:function(){return n.notFound}}),t.o(n,"usePathname")&&t.d(s,{usePathname:function(){return n.usePathname}}),t.o(n,"useRouter")&&t.d(s,{useRouter:function(){return n.useRouter}}),t.o(n,"useSearchParams")&&t.d(s,{useSearchParams:function(){return n.useSearchParams}})},68856:(e,s,t)=>{"use strict";t.d(s,{E:()=>r});var n=t(95155),l=t(59434);function r(e){let{className:s,...t}=e;return(0,n.jsx)("div",{className:(0,l.cn)("animate-pulse rounded-md bg-muted",s),...t})}},70677:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>y});var n=t(95155),l=t(12115),r=t(66766),a=t(6874),d=t.n(a),o=t(8632),c=t(73416),i=t(85462),m=t(91167),u=t(35695),x=t(68856),h=t(30285),f=t(13300),j=t(3561),v=t(81737),g=t(86406),p=t(91721),N=t(66424),A=t(79684),w=t(44838),b=t(87481);function k(){let e=(0,u.useSearchParams)(),s=e.get("artist"),t=e.get("name"),[a,k]=(0,l.useState)(null),y=(0,l.useContext)(o.$),{toast:C}=(0,b.dj)();(0,l.useEffect)(()=>{if((null==y?void 0:y.songs)&&s&&t){let e=decodeURIComponent(s),n=decodeURIComponent(t),l=(0,c.Z)(y.songs).find(s=>s.name===n&&s.artist===e);l?k(l):(0,u.notFound)()}},[null==y?void 0:y.songs,s,t]);let P=e=>{a&&a.songs.forEach(s=>null==y?void 0:y.addSongToPlaylist(e,s.id))};return(null==y?void 0:y.isLoading)||!a?(0,n.jsxs)("div",{className:"container mx-auto max-w-7xl px-0",children:[(0,n.jsx)(i.z,{title:""}),(0,n.jsx)("div",{className:"px-4 md:px-6",children:(0,n.jsxs)("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6 md:gap-8",children:[(0,n.jsx)(x.E,{className:"h-48 w-48 md:h-64 md:w-64 rounded-lg flex-shrink-0"}),(0,n.jsxs)("div",{className:"flex flex-col items-center md:items-start text-center md:text-left pt-4",children:[(0,n.jsx)(x.E,{className:"h-9 w-64 mb-2"}),(0,n.jsx)(x.E,{className:"h-6 w-48 mb-4"}),(0,n.jsx)(x.E,{className:"h-10 w-32"})]})]})})]}):(0,n.jsx)(N.F,{className:"h-full",children:(0,n.jsxs)("div",{className:"container mx-auto max-w-7xl px-0 pb-8",children:[(0,n.jsx)(i.z,{title:""}),(0,n.jsx)("div",{className:"px-4 md:px-6",children:(0,n.jsxs)("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6 md:gap-8",children:[(0,n.jsx)("div",{className:"h-48 w-48 md:h-64 md:w-64 rounded-lg shadow-lg flex-shrink-0",children:a.coverArt?(0,n.jsx)(r.default,{src:a.coverArt,alt:"Cover for ".concat(a.name),width:256,height:256,className:"h-full w-full object-cover rounded-lg","data-ai-hint":"album cover"}):(0,n.jsx)(A.d,{className:"h-full w-full rounded-lg"})}),(0,n.jsxs)("div",{className:"flex flex-col items-center md:items-start text-center md:text-left pt-4",children:[(0,n.jsx)("p",{className:"text-sm font-medium text-muted-foreground uppercase",children:"Album"}),(0,n.jsx)("h1",{className:"text-3xl md:text-5xl font-bold mt-1 text-foreground break-words",children:a.name}),(0,n.jsx)(d(),{href:"/artist?name=".concat(encodeURIComponent(a.artist)),className:"text-xl md:text-2xl text-muted-foreground mt-2 hover:underline",children:a.artist}),(0,n.jsxs)("p",{className:"text-sm text-muted-foreground mt-2",children:[a.songs.length," songs"]}),(0,n.jsxs)("div",{className:"flex items-center gap-2 mt-4",children:[(0,n.jsxs)(h.$,{onClick:()=>{(null==a?void 0:a.songs)&&a.songs.length>0&&(null==y||y.playSong(a.songs[0],a.songs))},children:[(0,n.jsx)(f.A,{className:"mr-2 h-4 w-4"})," Play Album"]}),(0,n.jsxs)(w.rI,{children:[(0,n.jsx)(w.ty,{asChild:!0,children:(0,n.jsx)(h.$,{variant:"outline",size:"icon",className:"h-10 w-10",children:(0,n.jsx)(j.A,{className:"h-4 w-4"})})}),(0,n.jsxs)(w.SQ,{align:"end",children:[(0,n.jsxs)(w._2,{onClick:()=>{a&&(a.songs.forEach(e=>null==y?void 0:y.addToQueue(e)),C({title:"Added to queue",description:'All songs from "'.concat(a.name,'" have been added to the queue.')}))},children:[(0,n.jsx)(v.A,{className:"mr-2 h-4 w-4"}),"Add to Queue"]}),(0,n.jsxs)(w.lv,{children:[(0,n.jsxs)(w.nV,{children:[(0,n.jsx)(g.A,{className:"mr-2 h-4 w-4"}),"Add to Playlist"]}),(0,n.jsx)(w.M5,{children:(null==y?void 0:y.playlists)&&y.playlists.length>0?y.playlists.map(e=>(0,n.jsx)(w._2,{onClick:()=>P(e.id),children:e.name},e.id)):(0,n.jsx)(w._2,{disabled:!0,children:"No playlists found"})})]}),(0,n.jsx)(w.mB,{}),(0,n.jsx)(w._2,{asChild:!0,children:(0,n.jsxs)(d(),{href:"/artist?name=".concat(encodeURIComponent(a.artist)),children:[(0,n.jsx)(p.A,{className:"mr-2 h-4 w-4"}),"Go to Artist"]})})]})]})]})]})]})}),(0,n.jsx)("div",{className:"mt-8 px-2 md:px-4",children:(0,n.jsx)("div",{className:"flex flex-col",children:a.songs.map(e=>(0,n.jsx)(m.t,{song:e,queue:a.songs},e.id))})})]})})}function y(){return(0,n.jsx)(l.Suspense,{fallback:(0,n.jsx)("div",{children:"Loading..."}),children:(0,n.jsx)(k,{})})}},73416:(e,s,t)=>{"use strict";function n(e){return e?Object.values(e.reduce((e,s)=>{let t=s.album||"Unknown Album";return e[t]||(e[t]={name:t,artist:s.artist||"Unknown Artist",coverArt:s.coverArt,songs:[]}),s.coverArt&&!e[t].coverArt&&(e[t].coverArt=s.coverArt),e[t].songs.push(s),e},{})):[]}function l(e){return e?Object.entries(e.reduce((e,s)=>{let t=s.artist||"Unknown Artist";e[t]||(e[t]={});let n=s.album||"Unknown Album";return e[t][n]||(e[t][n]={name:n,artist:t,coverArt:s.coverArt,songs:[]}),e[t][n].songs.push(s),e},{})).map(e=>{let[s,t]=e,n=Object.values(t),l=n.find(e=>!!e.coverArt);return{name:s,coverArt:l?l.coverArt:null,albums:n}}):[]}t.d(s,{T:()=>l,Z:()=>n})},74722:(e,s,t)=>{Promise.resolve().then(t.bind(t,70677))},85462:(e,s,t)=>{"use strict";t.d(s,{z:()=>l});var n=t(95155);function l(e){let{title:s,children:t}=e;return(0,n.jsxs)("header",{className:"flex items-center justify-between gap-4 p-4 pt-6 md:p-6",children:[(0,n.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-foreground font-headline",children:s}),t&&(0,n.jsx)("div",{className:"flex items-center gap-2",children:t})]})}t(12115)}},e=>{var s=s=>e(e.s=s);e.O(0,[532,30,285,246,12,742,441,684,358],()=>s(74722)),_N_E=e.O()}]);