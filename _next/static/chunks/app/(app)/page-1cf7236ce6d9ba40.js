(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[415],{23228:(e,s,a)=>{Promise.resolve().then(a.bind(a,77421))},38350:(e,s,a)=>{"use strict";a.d(s,{A:()=>l});let l=(0,a(40157).A)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},66695:(e,s,a)=>{"use strict";a.d(s,{BT:()=>i,Wu:()=>o,ZB:()=>d,Zp:()=>n,aR:()=>c});var l=a(95155),t=a(12115),r=a(59434);let n=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,l.jsx)("div",{ref:s,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...t})});n.displayName="Card";let c=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,l.jsx)("div",{ref:s,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",a),...t})});c.displayName="CardHeader";let d=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,l.jsx)("div",{ref:s,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",a),...t})});d.displayName="CardTitle";let i=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,l.jsx)("div",{ref:s,className:(0,r.cn)("text-sm text-muted-foreground",a),...t})});i.displayName="CardDescription";let o=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,l.jsx)("div",{ref:s,className:(0,r.cn)("p-6 pt-0",a),...t})});o.displayName="CardContent",t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,l.jsx)("div",{ref:s,className:(0,r.cn)("flex items-center p-6 pt-0",a),...t})}).displayName="CardFooter"},67554:(e,s,a)=>{"use strict";a.d(s,{A:()=>l});let l=(0,a(40157).A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},68856:(e,s,a)=>{"use strict";a.d(s,{E:()=>r});var l=a(95155),t=a(59434);function r(e){let{className:s,...a}=e;return(0,l.jsx)("div",{className:(0,t.cn)("animate-pulse rounded-md bg-muted",s),...a})}},73416:(e,s,a)=>{"use strict";function l(e){return e?Object.values(e.reduce((e,s)=>{let a=s.album||"Unknown Album";return e[a]||(e[a]={name:a,artist:s.artist||"Unknown Artist",coverArt:s.coverArt,songs:[]}),s.coverArt&&!e[a].coverArt&&(e[a].coverArt=s.coverArt),e[a].songs.push(s),e},{})):[]}function t(e){return e?Object.entries(e.reduce((e,s)=>{let a=s.artist||"Unknown Artist";e[a]||(e[a]={});let l=s.album||"Unknown Album";return e[a][l]||(e[a][l]={name:l,artist:a,coverArt:s.coverArt,songs:[]}),e[a][l].songs.push(s),e},{})).map(e=>{let[s,a]=e,l=Object.values(a),t=l.find(e=>!!e.coverArt);return{name:s,coverArt:t?t.coverArt:null,albums:l}}):[]}a.d(s,{T:()=>t,Z:()=>l})},77231:(e,s,a)=>{"use strict";a.d(s,{a:()=>j});var l=a(95155),t=a(66766),r=a(6874),n=a.n(r),c=a(66695),d=a(79684),i=a(44838),o=a(30285),m=a(38350),x=a(81737),u=a(86406),h=a(91721),f=a(12115),p=a(8632),g=a(87481);let j=f.memo(function(e){let{album:s}=e,a=(0,f.useContext)(p.$),{toast:r}=(0,g.dj)(),j=e=>{s.songs.forEach(s=>null==a?void 0:a.addSongToPlaylist(e,s.id))};return(0,l.jsxs)("div",{className:"group relative",children:[(0,l.jsx)(n(),{href:"/album?artist=".concat(encodeURIComponent(s.artist),"&name=").concat(encodeURIComponent(s.name)),children:(0,l.jsx)(c.Zp,{className:"overflow-hidden transition-all group-hover:shadow-lg group-hover:shadow-primary/20",children:(0,l.jsx)(c.Wu,{className:"p-0",children:s.coverArt?(0,l.jsx)(t.default,{src:s.coverArt,alt:"Cover art for ".concat(s.name),width:300,height:300,className:"aspect-square w-full object-cover transition-transform group-hover:scale-105","data-ai-hint":"album cover"}):(0,l.jsx)(d.d,{className:"transition-transform group-hover:scale-105 rounded-lg"})})})}),(0,l.jsxs)("div",{className:"mt-2 flex justify-between items-start",children:[(0,l.jsxs)("div",{className:"min-w-0",children:[(0,l.jsx)("h3",{className:"font-semibold text-foreground truncate",children:s.name}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground truncate",children:s.artist})]}),(0,l.jsxs)(i.rI,{children:[(0,l.jsx)(i.ty,{asChild:!0,children:(0,l.jsx)(o.$,{variant:"ghost",size:"icon",className:"h-8 w-8 ml-1 flex-shrink-0",children:(0,l.jsx)(m.A,{className:"h-4 w-4"})})}),(0,l.jsxs)(i.SQ,{align:"end",children:[(0,l.jsxs)(i._2,{onClick:()=>{s.songs.forEach(e=>null==a?void 0:a.addToQueue(e)),r({title:"Added to queue",description:'All songs from "'.concat(s.name,'" have been added to the queue.')})},children:[(0,l.jsx)(x.A,{className:"mr-2 h-4 w-4"}),"Add to Queue"]}),(0,l.jsxs)(i.lv,{children:[(0,l.jsxs)(i.nV,{children:[(0,l.jsx)(u.A,{className:"mr-2 h-4 w-4"}),"Add to Playlist"]}),(0,l.jsx)(i.M5,{children:(null==a?void 0:a.playlists)&&a.playlists.length>0?a.playlists.map(e=>(0,l.jsx)(i._2,{onClick:()=>j(e.id),children:e.name},e.id)):(0,l.jsx)(i._2,{disabled:!0,children:"No playlists found"})})]}),(0,l.jsx)(i.mB,{}),(0,l.jsx)(i._2,{asChild:!0,children:(0,l.jsxs)(n(),{href:"/artist?name=".concat(encodeURIComponent(s.artist)),children:[(0,l.jsx)(h.A,{className:"mr-2 h-4 w-4"}),"Go to Artist"]})})]})]})]})]})})},77421:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>p});var l=a(95155),t=a(12115),r=a(73416),n=a(77231),c=a(85462),d=a(8632),i=a(68856),o=a(66424),m=a(91167),x=a(30285),u=a(67554),h=a(93058),f=a(87481);function p(){let e=(0,t.useContext)(d.$),{toast:s}=(0,f.dj)(),a=(null==e?void 0:e.songs)||[],p=(0,t.useMemo)(()=>(0,r.Z)(a),[a]),g=(0,t.useMemo)(()=>[...p].reverse(),[p]),j=(0,t.useMemo)(()=>[...a].reverse().slice(0,12),[a]),v=async()=>{await (null==e?void 0:e.rescanMusic())},N=async()=>{try{let a=await window.showDirectoryPicker();s({title:"Folder Changed",description:"Your music library is being updated in the background."}),await (null==e?void 0:e.loadMusic(a))}catch(e){console.error("Error accessing directory:",e),e instanceof DOMException&&"AbortError"===e.name||s({title:"Error",description:"Could not access the music folder.",variant:"destructive"})}};return(null==e?void 0:e.isLoading)?(0,l.jsxs)("div",{className:"container mx-auto max-w-7xl px-0",children:[(0,l.jsx)(c.z,{title:"Home"}),(0,l.jsxs)("section",{className:"px-4 md:px-6",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold text-foreground mb-4",children:"Recently Added Songs"}),(0,l.jsx)("div",{className:"flex flex-col gap-1",children:Array.from({length:5}).map((e,s)=>(0,l.jsxs)("div",{className:"flex items-center gap-4 p-2",children:[(0,l.jsx)(i.E,{className:"h-10 w-10 rounded-md"}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)(i.E,{className:"h-4 w-3/4"}),(0,l.jsx)(i.E,{className:"h-3 w-1/2 mt-1"})]})]},s))})]}),(0,l.jsxs)("section",{className:"px-4 md:px-6 mt-8",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold text-foreground mb-4",children:"Recently Added Albums"}),(0,l.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 md:gap-6",children:Array.from({length:6}).map((e,s)=>(0,l.jsxs)("div",{children:[(0,l.jsx)(i.E,{className:"aspect-square w-full rounded-lg"}),(0,l.jsx)(i.E,{className:"h-4 w-3/4 mt-2"}),(0,l.jsx)(i.E,{className:"h-3 w-1/2 mt-1"})]},s))})]})]}):0!==a.length||(null==e?void 0:e.isScanning)?(0,l.jsx)(o.F,{className:"h-full",children:(0,l.jsxs)("div",{className:"container mx-auto max-w-7xl px-0 pb-8",children:[(0,l.jsx)(c.z,{title:"Home",children:(null==e?void 0:e.isScanning)&&(0,l.jsx)("div",{className:"text-sm text-primary animate-pulse",children:"Scanning..."})}),(0,l.jsxs)("section",{className:"px-2 md:px-4",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold text-foreground mb-4 px-2",children:"Recently Added Songs"}),(0,l.jsx)("div",{className:"flex flex-col",children:j.map(e=>(0,l.jsx)(m.t,{song:e,queue:j},e.id))})]}),(0,l.jsxs)("section",{className:"px-4 md:px-6 mt-8",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold text-foreground mb-4",children:"Recently Added Albums"}),(0,l.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 md:gap-6",children:g.map(e=>(0,l.jsx)(n.a,{album:e},"".concat(e.name,"-").concat(e.artist)))})]}),(0,l.jsxs)("section",{className:"px-4 md:px-6 mt-8",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold text-foreground mb-4",children:"All Albums"}),(0,l.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 md:gap-6",children:p.map(e=>(0,l.jsx)(n.a,{album:e},"".concat(e.name,"-").concat(e.artist)))})]})]})}):(0,l.jsxs)("div",{className:"container mx-auto max-w-7xl px-0",children:[(0,l.jsx)(c.z,{title:"Home"}),(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center text-center p-8 mt-16",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"No Music Found"}),(0,l.jsx)("p",{className:"text-muted-foreground mb-6 max-w-md",children:"We couldn't find any compatible audio files (.mp3, .flac, .m4a) in the selected folder. Please try rescanning or choose a different folder."}),(0,l.jsxs)("div",{className:"flex gap-4",children:[(0,l.jsxs)(x.$,{variant:"outline",onClick:v,disabled:!(null==e?void 0:e.hasAccess)||(null==e?void 0:e.isScanning),children:[(0,l.jsx)(u.A,{className:"mr-2 h-4 w-4"}),"Rescan Folder"]}),(0,l.jsxs)(x.$,{onClick:N,disabled:null==e?void 0:e.isScanning,children:[(0,l.jsx)(h.A,{className:"mr-2 h-4 w-4"}),"Change Folder"]})]})]})]})}},85462:(e,s,a)=>{"use strict";a.d(s,{z:()=>t});var l=a(95155);function t(e){let{title:s,children:a}=e;return(0,l.jsxs)("header",{className:"flex items-center justify-between gap-4 p-4 pt-6 md:p-6",children:[(0,l.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-foreground font-headline",children:s}),a&&(0,l.jsx)("div",{className:"flex items-center gap-2",children:a})]})}a(12115)},93058:(e,s,a)=>{"use strict";a.d(s,{A:()=>l});let l=(0,a(40157).A)("FolderSync",[["path",{d:"M9 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v.5",key:"1dkoa9"}],["path",{d:"M12 10v4h4",key:"1czhmt"}],["path",{d:"m12 14 1.535-1.605a5 5 0 0 1 8 1.5",key:"lvuxfi"}],["path",{d:"M22 22v-4h-4",key:"1ewp4q"}],["path",{d:"m22 18-1.535 1.605a5 5 0 0 1-8-1.5",key:"14ync0"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[532,30,285,246,12,742,441,684,358],()=>s(23228)),_N_E=e.O()}]);