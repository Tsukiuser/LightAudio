(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[723],{53174:(e,s,a)=>{Promise.resolve().then(a.bind(a,60666))},60666:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>P});var t=a(95155),l=a(12115),r=a(6874),n=a.n(r),i=a(85462),d=a(60704),c=a(59434);let o=d.bL,m=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(d.B8,{ref:s,className:(0,c.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...l})});m.displayName=d.B8.displayName;let u=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(d.l9,{ref:s,className:(0,c.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...l})});u.displayName=d.l9.displayName;let x=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(d.UC,{ref:s,className:(0,c.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...l})});x.displayName=d.UC.displayName;var f=a(30285),h=a(16372),p=a(38350),g=a(18046),j=a(73416),v=a(77231),N=a(91167),y=a(66695),b=a(66766),w=a(8632),C=a(66424),A=a(79684),R=a(99290),k=a(44838),z=a(67280),E=a(90010);function P(){let e=(0,l.useContext)(w.$),s=(null==e?void 0:e.songs)||[],a=(0,j.Z)(s),r=(0,j.T)(s),d=(null==e?void 0:e.playlists)||[],c=s=>{null==e||e.deletePlaylist(s)},P=e=>{let{playlist:s}=e;return(0,t.jsxs)("div",{className:"group relative",children:[(0,t.jsx)(n(),{href:"/playlist?id=".concat(s.id),children:(0,t.jsx)(y.Zp,{className:"overflow-hidden transition-all group-hover:shadow-lg group-hover:shadow-primary/20",children:(0,t.jsx)(y.Wu,{className:"p-0",children:(0,t.jsx)("div",{className:"aspect-square w-full bg-muted flex items-center justify-center",children:(0,t.jsx)(h.A,{className:"h-1/2 w-1/2 text-muted-foreground/50"})})})})},s.id),(0,t.jsxs)("div",{className:"mt-2 flex justify-between items-start",children:[(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("h3",{className:"font-semibold text-foreground truncate",children:s.name}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground truncate",children:[s.songIds.length," songs"]})]}),(0,t.jsxs)(E.Lt,{children:[(0,t.jsxs)(k.rI,{children:[(0,t.jsx)(k.ty,{asChild:!0,children:(0,t.jsx)(f.$,{variant:"ghost",size:"icon",className:"h-8 w-8 ml-1 flex-shrink-0",children:(0,t.jsx)(p.A,{className:"h-4 w-4"})})}),(0,t.jsxs)(k.SQ,{align:"end",children:[(0,t.jsx)(z.z,{playlist:s,children:(0,t.jsx)(k._2,{onSelect:e=>e.preventDefault(),children:"Rename"})}),(0,t.jsx)(E.tv,{asChild:!0,children:(0,t.jsx)(k._2,{className:"text-destructive",children:"Delete"})})]})]}),(0,t.jsxs)(E.EO,{children:[(0,t.jsxs)(E.wd,{children:[(0,t.jsxs)(E.r7,{children:['Delete "',s.name,'"?']}),(0,t.jsx)(E.$v,{children:"This action cannot be undone. This will permanently delete the playlist."})]}),(0,t.jsxs)(E.ck,{children:[(0,t.jsx)(E.Zr,{children:"Cancel"}),(0,t.jsx)(E.Rx,{onClick:()=>c(s.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})]})};return(0,t.jsx)(C.F,{className:"h-full",children:(0,t.jsxs)("div",{className:"container mx-auto max-w-7xl px-0 pb-8",children:[(0,t.jsx)(i.z,{title:"Library"}),(0,t.jsxs)(o,{defaultValue:"playlists",className:"w-full px-4 md:px-6",children:[(0,t.jsxs)(m,{className:"grid w-full grid-cols-4",children:[(0,t.jsx)(u,{value:"playlists",children:"Playlists"}),(0,t.jsx)(u,{value:"artists",children:"Artists"}),(0,t.jsx)(u,{value:"albums",children:"Albums"}),(0,t.jsx)(u,{value:"songs",children:"Songs"})]}),(0,t.jsxs)(x,{value:"playlists",className:"mt-6",children:[(0,t.jsx)(R.A,{children:(0,t.jsxs)(f.$,{className:"w-full md:w-auto",children:[(0,t.jsx)(g.A,{className:"mr-2 h-4 w-4"}),"Create Playlist"]})}),(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 md:gap-6 mt-6",children:d.map(e=>(0,t.jsx)(P,{playlist:e},e.id))})]}),(0,t.jsx)(x,{value:"artists",className:"mt-6",children:(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 md:gap-6",children:r.map(e=>(0,t.jsxs)(n(),{href:"/artist?name=".concat(encodeURIComponent(e.name)),className:"group relative text-center",children:[(0,t.jsx)("div",{className:"aspect-square w-full rounded-full overflow-hidden transition-transform group-hover:scale-105",children:e.coverArt?(0,t.jsx)(b.default,{src:e.coverArt,alt:"Photo of ".concat(e.name),width:300,height:300,className:"h-full w-full object-cover","data-ai-hint":"artist portrait"}):(0,t.jsx)(A.d,{})}),(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsx)("h3",{className:"font-semibold text-foreground truncate",children:e.name})})]},e.name))})}),(0,t.jsx)(x,{value:"albums",className:"mt-6",children:(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 md:gap-6",children:a.map(e=>(0,t.jsx)(v.a,{album:e},"".concat(e.name,"-").concat(e.artist)))})}),(0,t.jsx)(x,{value:"songs",className:"mt-4 -mx-2 md:-mx-4",children:(0,t.jsx)("div",{className:"flex flex-col",children:s.map(e=>(0,t.jsx)(N.t,{song:e,queue:s},e.id))})})]})]})})}},62523:(e,s,a)=>{"use strict";a.d(s,{p:()=>n});var t=a(95155),l=a(12115),r=a(59434);let n=l.forwardRef((e,s)=>{let{className:a,type:l,...n}=e;return(0,t.jsx)("input",{type:l,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:s,...n})});n.displayName="Input"},66695:(e,s,a)=>{"use strict";a.d(s,{BT:()=>c,Wu:()=>o,ZB:()=>d,Zp:()=>n,aR:()=>i});var t=a(95155),l=a(12115),r=a(59434);let n=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...l})});n.displayName="Card";let i=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",a),...l})});i.displayName="CardHeader";let d=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",a),...l})});d.displayName="CardTitle";let c=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("text-sm text-muted-foreground",a),...l})});c.displayName="CardDescription";let o=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("p-6 pt-0",a),...l})});o.displayName="CardContent",l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("flex items-center p-6 pt-0",a),...l})}).displayName="CardFooter"},67280:(e,s,a)=>{"use strict";a.d(s,{z:()=>o});var t=a(95155),l=a(12115),r=a(30285),n=a(54165),i=a(62523),d=a(85057),c=a(8632);function o(e){let{children:s,playlist:a}=e,[o,m]=(0,l.useState)(!1),[u,x]=(0,l.useState)(a.name),f=(0,l.useContext)(c.$),h=async()=>{u.trim()&&u.trim()!==a.name&&await (null==f?void 0:f.renamePlaylist(a.id,u.trim())),m(!1)};return(0,t.jsxs)(n.lG,{open:o,onOpenChange:e=>{e&&x(a.name),m(e)},children:[(0,t.jsx)(n.zM,{asChild:!0,children:s}),(0,t.jsxs)(n.Cf,{className:"sm:max-w-[425px]",children:[(0,t.jsxs)(n.c7,{children:[(0,t.jsx)(n.L3,{children:"Rename Playlist"}),(0,t.jsxs)(n.rr,{children:['Enter a new name for the playlist "',a.name,'".']})]}),(0,t.jsx)("div",{className:"grid gap-4 py-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)(d.J,{htmlFor:"name",className:"text-right",children:"Name"}),(0,t.jsx)(i.p,{id:"name",value:u,onChange:e=>x(e.target.value),className:"col-span-3",autoFocus:!0})]})}),(0,t.jsx)(n.Es,{children:(0,t.jsx)(r.$,{type:"submit",onClick:h,disabled:!u.trim()||u.trim()===a.name,children:"Rename"})})]})]})}},73416:(e,s,a)=>{"use strict";function t(e){return e?Object.values(e.reduce((e,s)=>{let a=s.album||"Unknown Album";return e[a]||(e[a]={name:a,artist:s.artist||"Unknown Artist",coverArt:s.coverArt,songs:[]}),s.coverArt&&!e[a].coverArt&&(e[a].coverArt=s.coverArt),e[a].songs.push(s),e},{})):[]}function l(e){return e?Object.entries(e.reduce((e,s)=>{let a=s.artist||"Unknown Artist";e[a]||(e[a]={});let t=s.album||"Unknown Album";return e[a][t]||(e[a][t]={name:t,artist:a,coverArt:s.coverArt,songs:[]}),e[a][t].songs.push(s),e},{})).map(e=>{let[s,a]=e,t=Object.values(a),l=t.find(e=>!!e.coverArt);return{name:s,coverArt:l?l.coverArt:null,albums:t}}):[]}a.d(s,{T:()=>l,Z:()=>t})},77231:(e,s,a)=>{"use strict";a.d(s,{a:()=>j});var t=a(95155),l=a(66766),r=a(6874),n=a.n(r),i=a(66695),d=a(79684),c=a(44838),o=a(30285),m=a(38350),u=a(81737),x=a(86406),f=a(91721),h=a(12115),p=a(8632),g=a(87481);let j=h.memo(function(e){let{album:s}=e,a=(0,h.useContext)(p.$),{toast:r}=(0,g.dj)(),j=e=>{s.songs.forEach(s=>null==a?void 0:a.addSongToPlaylist(e,s.id))};return(0,t.jsxs)("div",{className:"group relative",children:[(0,t.jsx)(n(),{href:"/album?artist=".concat(encodeURIComponent(s.artist),"&name=").concat(encodeURIComponent(s.name)),children:(0,t.jsx)(i.Zp,{className:"overflow-hidden transition-all group-hover:shadow-lg group-hover:shadow-primary/20",children:(0,t.jsx)(i.Wu,{className:"p-0",children:s.coverArt?(0,t.jsx)(l.default,{src:s.coverArt,alt:"Cover art for ".concat(s.name),width:300,height:300,className:"aspect-square w-full object-cover transition-transform group-hover:scale-105","data-ai-hint":"album cover"}):(0,t.jsx)(d.d,{className:"transition-transform group-hover:scale-105 rounded-lg"})})})}),(0,t.jsxs)("div",{className:"mt-2 flex justify-between items-start",children:[(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("h3",{className:"font-semibold text-foreground truncate",children:s.name}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground truncate",children:s.artist})]}),(0,t.jsxs)(c.rI,{children:[(0,t.jsx)(c.ty,{asChild:!0,children:(0,t.jsx)(o.$,{variant:"ghost",size:"icon",className:"h-8 w-8 ml-1 flex-shrink-0",children:(0,t.jsx)(m.A,{className:"h-4 w-4"})})}),(0,t.jsxs)(c.SQ,{align:"end",children:[(0,t.jsxs)(c._2,{onClick:()=>{s.songs.forEach(e=>null==a?void 0:a.addToQueue(e)),r({title:"Added to queue",description:'All songs from "'.concat(s.name,'" have been added to the queue.')})},children:[(0,t.jsx)(u.A,{className:"mr-2 h-4 w-4"}),"Add to Queue"]}),(0,t.jsxs)(c.lv,{children:[(0,t.jsxs)(c.nV,{children:[(0,t.jsx)(x.A,{className:"mr-2 h-4 w-4"}),"Add to Playlist"]}),(0,t.jsx)(c.M5,{children:(null==a?void 0:a.playlists)&&a.playlists.length>0?a.playlists.map(e=>(0,t.jsx)(c._2,{onClick:()=>j(e.id),children:e.name},e.id)):(0,t.jsx)(c._2,{disabled:!0,children:"No playlists found"})})]}),(0,t.jsx)(c.mB,{}),(0,t.jsx)(c._2,{asChild:!0,children:(0,t.jsxs)(n(),{href:"/artist?name=".concat(encodeURIComponent(s.artist)),children:[(0,t.jsx)(f.A,{className:"mr-2 h-4 w-4"}),"Go to Artist"]})})]})]})]})]})})},85057:(e,s,a)=>{"use strict";a.d(s,{J:()=>c});var t=a(95155),l=a(12115),r=a(40968),n=a(74466),i=a(59434);let d=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.b,{ref:s,className:(0,i.cn)(d(),a),...l})});c.displayName=r.b.displayName},85462:(e,s,a)=>{"use strict";a.d(s,{z:()=>l});var t=a(95155);function l(e){let{title:s,children:a}=e;return(0,t.jsxs)("header",{className:"flex items-center justify-between gap-4 p-4 pt-6 md:p-6",children:[(0,t.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-foreground font-headline",children:s}),a&&(0,t.jsx)("div",{className:"flex items-center gap-2",children:a})]})}a(12115)},90010:(e,s,a)=>{"use strict";a.d(s,{$v:()=>p,EO:()=>u,Lt:()=>d,Rx:()=>g,Zr:()=>j,ck:()=>f,r7:()=>h,tv:()=>c,wd:()=>x});var t=a(95155),l=a(12115),r=a(62278),n=a(59434),i=a(30285);let d=r.bL,c=r.l9,o=r.ZL,m=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.hJ,{className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...l,ref:s})});m.displayName=r.hJ.displayName;let u=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsxs)(o,{children:[(0,t.jsx)(m,{}),(0,t.jsx)(r.UC,{ref:s,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...l})]})});u.displayName=r.UC.displayName;let x=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-2 text-center sm:text-left",s),...a})};x.displayName="AlertDialogHeader";let f=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...a})};f.displayName="AlertDialogFooter";let h=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.hE,{ref:s,className:(0,n.cn)("text-lg font-semibold",a),...l})});h.displayName=r.hE.displayName;let p=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.VY,{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",a),...l})});p.displayName=r.VY.displayName;let g=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.rc,{ref:s,className:(0,n.cn)((0,i.r)(),a),...l})});g.displayName=r.rc.displayName;let j=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.ZD,{ref:s,className:(0,n.cn)((0,i.r)({variant:"outline"}),"mt-2 sm:mt-0",a),...l})});j.displayName=r.ZD.displayName},99290:(e,s,a)=>{"use strict";a.d(s,{A:()=>o});var t=a(95155),l=a(12115),r=a(30285),n=a(54165),i=a(62523),d=a(85057),c=a(8632);function o(e){let{children:s}=e,[a,o]=(0,l.useState)(!1),[m,u]=(0,l.useState)(""),x=(0,l.useContext)(c.$),f=async()=>{m.trim()&&(await (null==x?void 0:x.createPlaylist(m.trim())),u(""),o(!1))};return(0,t.jsxs)(n.lG,{open:a,onOpenChange:o,children:[(0,t.jsx)(n.zM,{asChild:!0,children:s}),(0,t.jsxs)(n.Cf,{className:"sm:max-w-[425px]",children:[(0,t.jsxs)(n.c7,{children:[(0,t.jsx)(n.L3,{children:"Create Playlist"}),(0,t.jsx)(n.rr,{children:"Give your new playlist a name. You can add songs to it later."})]}),(0,t.jsx)("div",{className:"grid gap-4 py-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)(d.J,{htmlFor:"name",className:"text-right",children:"Name"}),(0,t.jsx)(i.p,{id:"name",value:m,onChange:e=>u(e.target.value),className:"col-span-3",autoFocus:!0})]})}),(0,t.jsx)(n.Es,{children:(0,t.jsx)(r.$,{type:"submit",onClick:f,disabled:!m.trim(),children:"Create Playlist"})})]})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[532,30,285,246,909,12,742,441,684,358],()=>s(53174)),_N_E=e.O()}]);