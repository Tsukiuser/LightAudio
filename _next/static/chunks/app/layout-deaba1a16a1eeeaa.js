(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{4203:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,30347,23)),Promise.resolve().then(r.t.bind(r,76196,23)),Promise.resolve().then(r.bind(r,44845)),Promise.resolve().then(r.bind(r,65416)),Promise.resolve().then(r.bind(r,52558)),Promise.resolve().then(r.bind(r,8632))},30347:()=>{},31235:(e,t,r)=>{"use strict";r.d(t,{c:()=>n});var s=r(95155),a=r(59434);function n(e){let{className:t}=e;return(0,s.jsx)("div",{className:(0,a.cn)("flex items-end justify-center h-6 w-6 gap-0.5",t),children:[40,75,50,60,30].map((e,t)=>(0,s.jsx)("div",{className:"w-[3px] bg-primary rounded-full",style:{height:"".concat(e,"%")}},t))})}},44845:(e,t,r)=>{"use strict";r.d(t,{default:()=>c});var s=r(95155),a=r(12115),n=r(30285),o=r(8632),i=r(87481),l=r(31235);function c(e){let{children:t}=e,r=(0,a.useContext)(o.$),{toast:c}=(0,i.dj)(),d=async()=>{try{let e=await window.showDirectoryPicker();await (null==r?void 0:r.loadMusic(e))}catch(e){console.error("Error accessing directory:",e),e instanceof DOMException&&"AbortError"===e.name||c({title:"Error",description:"Could not access the music folder.",variant:"destructive"})}};return(null==r?void 0:r.isLoading)?(0,s.jsx)("div",{className:"flex h-screen w-full flex-col items-center justify-center bg-background p-4 text-center",children:(0,s.jsxs)("div",{className:"flex flex-col items-center animate-in fade-in-50 duration-1000",children:[(0,s.jsx)(l.c,{className:"h-16 w-16 mb-6"}),(0,s.jsx)("h1",{className:"text-3xl font-bold text-foreground mb-2 font-headline",children:"Loading Library"}),(0,s.jsx)("p",{className:"text-muted-foreground max-w-md mb-8",children:"Please wait while we load your music collection..."})]})}):(null==r?void 0:r.hasAccess)?(0,s.jsx)(s.Fragment,{children:t}):(0,s.jsxs)("div",{className:"relative flex h-screen w-full flex-col items-center justify-center bg-background p-4 text-center",children:[(0,s.jsx)("button",{onClick:d,className:"absolute top-0 left-0 h-16 w-16 opacity-0","aria-label":"Grant folder access (hidden)"}),(0,s.jsxs)("div",{className:"flex flex-col items-center animate-in fade-in-50 duration-1000",children:[(0,s.jsx)(l.c,{className:"h-16 w-16 text-primary mb-6"}),(0,s.jsx)("h1",{className:"text-3xl font-bold text-foreground mb-2 font-headline",children:"Welcome to LightAudio"}),(0,s.jsx)("p",{className:"text-muted-foreground max-w-md mb-8",children:"To get started, please grant the application access to your music folder. We'll scan it to build your local music library."}),(0,s.jsx)(n.$,{size:"lg",onClick:d,children:"Grant Folder Access"})]})]})}},52558:(e,t,r)=>{"use strict";r.d(t,{Toaster:()=>g});var s=r(95155),a=r(87481),n=r(12115),o=r(26621),i=r(74466),l=r(25318),c=r(59434);let d=o.Kq,u=n.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(o.LM,{ref:t,className:(0,c.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",r),...a})});u.displayName=o.LM.displayName;let m=(0,i.F)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),f=n.forwardRef((e,t)=>{let{className:r,variant:a,...n}=e;return(0,s.jsx)(o.bL,{ref:t,className:(0,c.cn)(m({variant:a}),r),...n})});f.displayName=o.bL.displayName,n.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(o.rc,{ref:t,className:(0,c.cn)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",r),...a})}).displayName=o.rc.displayName;let p=n.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(o.bm,{ref:t,className:(0,c.cn)("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",r),"toast-close":"",...a,children:(0,s.jsx)(l.A,{className:"h-4 w-4"})})});p.displayName=o.bm.displayName;let x=n.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(o.hE,{ref:t,className:(0,c.cn)("text-sm font-semibold",r),...a})});x.displayName=o.hE.displayName;let h=n.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(o.VY,{ref:t,className:(0,c.cn)("text-sm opacity-90",r),...a})});function g(){let{toasts:e}=(0,a.dj)();return(0,s.jsxs)(d,{children:[e.map(function(e){let{id:t,title:r,description:a,action:n,...o}=e;return(0,s.jsxs)(f,{...o,children:[(0,s.jsxs)("div",{className:"grid gap-1",children:[r&&(0,s.jsx)(x,{children:r}),a&&(0,s.jsx)(h,{children:a})]}),n,(0,s.jsx)(p,{})]},t)}),(0,s.jsx)(u,{})]})}h.displayName=o.VY.displayName},65416:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});var s=r(12115);function a(e){if(!e||e.length<4)return null;let t=0,r=0,s=0;4===e.length?(t=parseInt(e[1]+e[1],16),r=parseInt(e[2]+e[2],16),s=parseInt(e[3]+e[3],16)):7===e.length&&(t=parseInt(e.substring(1,3),16),r=parseInt(e.substring(3,5),16),s=parseInt(e.substring(5,7),16));let a=Math.max(t/=255,r/=255,s/=255),n=Math.min(t,r,s),o=0,i=0,l=(a+n)/2;if(a!==n){let e=a-n;switch(i=l>.5?e/(2-a-n):e/(a+n),a){case t:o=(r-s)/e+6*(r<s);break;case r:o=(s-t)/e+2;break;case s:o=(t-r)/e+4}o/=6}return o=Math.round(360*o),i=Math.round(100*i),l=Math.round(100*l),"".concat(o," ").concat(i,"% ").concat(l,"%")}function n(){let e=()=>{"dark"===(localStorage.getItem("theme")||"dark")?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark");let e=localStorage.getItem("theme-background-color"),t=localStorage.getItem("theme-accent-color");if(e){let t=a(e);if(t){document.documentElement.style.setProperty("--background",t);let[e,r,s]=t.split(" ").map(parseFloat);document.documentElement.style.setProperty("--card","".concat(e," ").concat(r,"% ").concat(s+3,"%"))}}if(t){let e=a(t);e&&(document.documentElement.style.setProperty("--primary",e),document.documentElement.style.setProperty("--ring",e))}};return(0,s.useEffect)(()=>(e(),window.addEventListener("theme-changed",e),()=>{window.removeEventListener("theme-changed",e)}),[]),null}}},e=>{var t=t=>e(e.s=t);e.O(0,[888,532,887,12,441,684,358],()=>t(4203)),_N_E=e.O()}]);