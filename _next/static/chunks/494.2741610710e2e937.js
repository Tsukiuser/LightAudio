(()=>{var e={63494:(e,t,a)=>{"use strict";var r=a(27734);async function*o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];try{for await(let a of e.values()){let e=[...t,a.name];"file"===a.kind&&(a.name.endsWith(".mp3")||a.name.endsWith(".flac")||a.name.endsWith(".m4a")||a.name.endsWith(".wav")||a.name.endsWith(".ogg"))?yield{handle:a,path:e}:"directory"===a.kind&&(yield*o(a,e))}}catch(t){console.warn("Could not read directory ".concat(e.name),t),self.postMessage({type:"SCAN_ERROR",payload:{error:"Could not read directory: ".concat(e.name)}})}}self.onmessage=async e=>{let{type:t,payload:a}=e.data;if("SCAN_START"===t){let{directoryHandle:e,existingSongIds:t}=a,i=[],s=new Set(t),c=new Set;try{for await(let{handle:t,path:a}of o(e)){let e=await t.getFile(),o=e.name+"-"+e.size;if(c.add(o),!s.has(o))try{var n;let t=await r.Xs(e,{skipCovers:!1}),s=(null==(n=t.common.picture)?void 0:n[0])?"data:".concat(t.common.picture[0].format,";base64,").concat(t.common.picture[0].data.toString("base64")):null;i.push({id:o,path:a,title:t.common.title||e.name,artist:t.common.artist||"Unknown Artist",album:t.common.album||"Unknown Album",duration:function(e){if(isNaN(e)||e<0)return"0:00";let t=Math.floor(e/60),a=Math.floor(e%60);return"".concat(t,":").concat(a.toString().padStart(2,"0"))}(t.format.duration||0),coverArt:s})}catch(e){console.warn("Could not read metadata for ".concat(t.name),e)}}let a=t.filter(e=>!c.has(e));self.postMessage({type:"SCAN_COMPLETE",payload:{newSongs:i,removedSongIds:a}})}catch(e){console.error("Error scanning music files in worker",e),self.postMessage({type:"SCAN_ERROR",payload:{error:"Failed to scan files."}})}}}}},t={};function a(r){var o=t[r];if(void 0!==o)return o.exports;var n=t[r]={exports:{}},i=!0;try{e[r](n,n.exports,a),i=!1}finally{i&&delete t[r]}return n.exports}a.m=e,a.x=()=>{var e=a.O(void 0,[734],()=>a(63494));return a.O(e)},(()=>{var e=[];a.O=(t,r,o,n)=>{if(r){n=n||0;for(var i=e.length;i>0&&e[i-1][2]>n;i--)e[i]=e[i-1];e[i]=[r,o,n];return}for(var s=1/0,i=0;i<e.length;i++){for(var[r,o,n]=e[i],c=!0,l=0;l<r.length;l++)(!1&n||s>=n)&&Object.keys(a.O).every(e=>a.O[e](r[l]))?r.splice(l--,1):(c=!1,n<s&&(s=n));if(c){e.splice(i--,1);var d=o();void 0!==d&&(t=d)}}return t}})(),a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce((t,r)=>(a.f[r](e,t),t),[])),a.u=e=>"static/chunks/"+e+".2a999595a6be1ebf.js",a.miniCssF=e=>{},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;a.tt=()=>(void 0===e&&(e={createScriptURL:e=>e},"undefined"!=typeof trustedTypes&&trustedTypes.createPolicy&&(e=trustedTypes.createPolicy("nextjs#bundler",e))),e)})(),a.tu=e=>a.tt().createScriptURL(e),a.p="/_next/",(()=>{var e={494:1};a.f.i=(t,r)=>{e[t]||importScripts(a.tu(a.p+a.u(t)))};var t=self.webpackChunk_N_E=self.webpackChunk_N_E||[],r=t.push.bind(t);t.push=t=>{var[o,n,i]=t;for(var s in n)a.o(n,s)&&(a.m[s]=n[s]);for(i&&i(a);o.length;)e[o.pop()]=1;r(t)}})(),(()=>{var e=a.x;a.x=()=>a.e(734).then(e)})(),_N_E=a.x()})();